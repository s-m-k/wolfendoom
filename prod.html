<!DOCTYPE html><html><head></head><style>#display{background: gray;width: 640px;height: 480px;}</style><body><canvas id="display" width="320" height="240"></canvas><div id="frame-time"></div><div id="fps"></div><div id="log"></div><div id="assets" style="display: none"><img id="wall" src="wall.png" alt="" /></div><script>eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('10.2P=v(){\'3q 3i\';A k=1a.1b(\'#3e\');A l=(v(){A d,1c,1z;d=v(a){A i,26=6.12[a];1y(i=0;i<26.X;i+=1){26[i].3d(6,3c.18.3b.35(3u,1))}};1c=v(a,b){6.12[a]=6.12[a]||[];6.12[a].2v(b)};1z=v(a,b){A c=6.12[a];C(!c||c.X===0){w}C(b===2l){c.X=0}1n{1T=c.30(b);C(1T!==-1){c.2Z(1T,1)}}};v 1p(a){C(2Y(a.12)!==\'2X\'){a.12={};a.2z=d;a.1c=1c;a.1z=1z}w a}w{1p:1p}}());A m=(v(){v 1C(a,b){a.x+=b.x;a.y+=b.y;w a}v 1P(a,b){a.x-=b.x;a.y-=b.y;w a}v 1E(a,b){a.x*=b;a.y*=b;w a}v 1X(a){w B.21(a.x*a.x+a.y*a.y)}v 1l(a,b,c,d){w a*c+b*d}v 1L(a,b,c,d){w a*d-b*c}v 1k(a,b,c,d){A e=a.L-a.E,1O=a.K-a.D,2n=1L(e,1O,c.x,c.y),F,1Q;C(1l(-c.y,c.x,e,1O)<0){w P}C(2n===0){w P}F=(c.x*(a.D-b.y)+c.y*(b.x-a.E))/2n;d=d||{};d.x=a.E+e*F;d.y=a.D+1O*F;d.F=F;d.1h=1Y;1Q=c.y===0?(d.x-b.x)/c.x:(d.y-b.y)/c.y;C(1Q<0){w P}w d}v 1H(a,b,c,d){A x=(c-a),y=(d-b);w B.21(x*x+y*y)}v X(x,y){w B.21(x*x+y*y)}v 1e(a,b,c,d,e,f){A g=1l(c,d,e-a,f-b);w g}w{2Q:B.19*2,1C:1C,1P:1P,1E:1E,1X:1X,1L:1L,1l:1l,X:X,1H:1H,1e:1e,1k:1k}}());A n=(v(){A b={};10.2A(\'2O\',v(a){b[a.2H]=1Y},P);10.2A(\'2M\',v(a){b[a.2H]=P},P);v 11(a){w b[a]}w{11:11}}());A o=(v(){A e={x:0,y:0},2L={x:0,y:0},2K={x:0,y:0,F:0};v o(a){6.O={x:0,y:0};6.1v={x:0,y:0};6.1s={x:0,y:0};6.J={x:0,y:0,z:0};6.Q={E:0,D:0,L:0,K:0};6.G={E:0,D:0,L:0,K:0};6.2a={x:0,y:0};6.17=0;6.U=a.U;6.N=a.N||32;6.Z=B.2N(a.U/2)};o.18={2j:v(){6.G.E=6.Q.E+6.J.x;6.G.D=6.Q.D+6.J.y;6.G.L=6.Q.L+6.J.x;6.G.K=6.Q.K+6.J.y;6.2a.x=(6.G.E+6.G.L)*0.5;6.2a.y=(6.G.D+6.G.K)*0.5},2G:v(a){6.O.x=B.1r(a);6.O.y=B.1i(a);6.1v.x=B.1r(a-6.U/2);6.1v.y=B.1i(a-6.U/2);6.1s.x=B.1r(a+6.U/2);6.1s.y=B.1i(a+6.U/2);6.Q.E=6.O.x*6.N-6.O.y*6.N*6.Z;6.Q.D=6.O.y*6.N+6.O.x*6.N*6.Z;6.Q.L=6.O.x*6.N+6.O.y*6.N*6.Z;6.Q.K=6.O.y*6.N-6.O.x*6.N*6.Z;6.17=6.N*6.Z*2;6.2j();w 6},2E:v(x,y,z){6.J.x=x;6.J.y=y;6.J.z=z;6.2j();w 6},2D:v(a,b,c){A d=m.1k(a,6.J,6.1v,b).F,15=m.1k(a,6.J,6.1s,c).F,2C=(15>=1&&d===2l)||(d<=1&&15===2l)||(d<=0&&15>=0),2B=(d>=0&&d<=1)||(15>=0&&15<=1);C(2B||2C){w 1Y}1n{w P}},1g:v(a,b,c){A d=(6.G.L-6.G.E)/6.17,2e=(6.G.K-6.G.D)/6.17,1V,1W,1x,13;1V=m.1e(6.G.E,6.G.D,-2e,d,a,b);1W=m.1e(6.G.E,6.G.D,d,2e,a,b);1x=6.Z*(6.N+1V)*2;c=c||{};13=6.17/1x;c.x=(1W-6.17*0.5)/B.2R(1x);c.13=13;w c}};w o}());A p=(v(){A j=1a.1b(\'#2S\'),14=j.2U(\'2d\'),1B=1,27=8,29=j.I/2,2b=j.H/2,S={x:0,13:0},1F={x:0,y:0,F:0},1G={x:0,y:0,F:0},W=1I o({U:B.19/3});14.3n(29,2b);14.3p=P;v 1M(){14.3r(-29,-2b,j.I,j.H)}v 2q(a){w((1-a)*27)|0}v 2p(a,b,c,d,e,f,g,h,i){A x,y,V,1N,1f,1K,1J,28,25=a.H/27;1N=e-d;1K=1/g;1J=1/f;C(1N<0){w}1y(x=d;x<e;x+=1B){V=(x-d)/1N;1f=f*(1-V)+g*V;28=((h*1K)*(1-V)+(i*1J)*V)/((1K*(1-V)+1J*V))*b;14.33(a,((a.I*28)|0)%a.I,25*2q(1f),1B,25,x,(1f*(W.J.z-c))|0,1B,1f*c*2)}}v 2w(a,b,c,d){A i,2V,24,22,1Z,1U,1S,1R,1u,1t;C(!c.1h||c.F<0||c.F>1){W.1g(b.E,b.D,S);1u=0}1n{W.1g(c.x,c.y,S);1u=c.F}24=S.x;1S=S.13;C(!d.1h||d.F<0||d.F>1){W.1g(b.L,b.K,S);1t=1}1n{W.1g(d.x,d.y,S);1t=d.F}22=S.x;1R=S.13;1Z=-24*j.I;1U=-22*j.I;2p(a,b.2F,b.H,1Z,1U,1S,1R,1u,1t)}v 1q(a,b){A i,Y=b.Y,M;14.34=\'2J\';1y(i=0;i<Y.X;i+=1){M=Y[i];1F.1h=P;1G.1h=P;C(W.2D(M,1F,1G)){2w(a,M,1F,1G)}}}v 1w(){w W}w{1M:1M,1q:1q,1w:1w}}());A q=(v(){v q(){6.J={x:0,y:0};6.1d={x:0,y:0};6.R=0;6.1D=0}q.18={2h:q,2c:v(a){6.1d.x+=B.1r(6.R)*a;6.1d.y+=B.1i(6.R)*a;6.1D+=4},2g:v(a){6.R+=a;C(6.R>B.19*2){6.R-=B.19*2}C(6.R<0){6.R+=B.19*2}},2y:v(){C(n.11(38)){6.2c(0.2)}C(n.11(2T)){6.2c(-0.2)}C(n.11(39)){6.2g(0.2o)}C(n.11(37)){6.2g(-0.2o)}},2x:v(){m.1C(6.J,6.1d);m.1E(6.1d,0.2W);6.1D*=0.9;6.2y()},1m:v(){p.1w().2G(6.R).2E(6.J.x,6.J.y,B.1i(t.1A()/7)*6.1D)}};w q}());A r=(v(){v r(a){A i,M,H=31;6.x=a.x;6.y=a.y;6.I=a.I;6.H=a.H;6.Y=[{E:6.x,D:6.y,L:6.x+6.I,K:6.y,x:0,y:-6.I},{E:6.x+6.I,D:6.y,L:6.x+6.I,K:6.y+6.H,x:6.H,y:0},{E:6.x+6.I,D:6.y+6.H,L:6.x,K:6.y+6.H,x:0,y:6.I},{E:6.x,D:6.y+6.H,L:6.x,K:6.y,x:-6.H,y:0}];1y(i=0;i<6.Y.X;i+=1){M=6.Y[i];M.H=H;M.2F=m.1H(M.E,M.D,M.L,M.K)/H}}r.18={2h:r};w r}());A s=(v(){A b=1a.1b(\'#M\');v s(){6.23=[];6.20=0}s.18={2h:s,36:v(a){6.20=a},2u:v(a){6.23.2v(a)},1m:v(){p.1q(b,6.23[6.20])}};w s}());A t=(v(){A c=3a,2m=0,1o=0,16=0,2i=0,2f;2f=10.3f||10.3g||10.3h;v T(a){A b,1j;2m=1o;1o=10.3j.3k();b=1o-2m;1j=3l/b;16+=c/1j;C(16>=1){t.2z(\'2t\',b,1j);16-=B.3m(16);2i+=1}2f(T)}v 1A(){w 2i}w l.1p({T:T,1A:1A})}());A u=(v(){A d=1a.1b(\'#16-3o\'),2s=1a.1b(\'#1j\');v T(){A c=1I q(),2k=1I s();2k.2u(1I r({x:-2r,y:-2r,I:3s,H:3t}));t.1c(\'2t\',v(a,b){d.2I=a;2s.2I=b;c.2x();p.1M();c.1m();2k.1m()});t.T()}w{T:T}}());u.T()};',62,217,'||||||this|||||||||||||||||||||||||function|return||||var|Math|if|aY|aX|factor|absoluteScreen|height|width|position|bY|bX|wall|near|direction|false|screen|angle|projectCache|start|fov|progress|frustum|length|walls|tanHalfFov|window|key|eventListeners|scale|context|factorRight|frame|screenWidth|prototype|PI|document|querySelector|on|velocity|directionalDistance|currentDepth|projectPoint|computed|sin|fps|sectionRayCast|dot|render|else|frameTime|attachEventEmitter|renderSegment|cos|directionRight|textureRight|textureLeft|directionLeft|getFrustum|projectedScreenWidth|for|off|getTicks|stripWidth|addVectors2d|swing|mulVec2dScalar|rayCastCacheLeft|rayCastCacheRight|distance|new|invDepthRight|invDepthLeft|cross|clear|leftRightDistance|vertex1Y|subVectors2d|lineFactor|depthTo|depthFrom|index|positionRight|distanceFromScreen|distanceFromCast|getVec2dLength|true|positionLeft|currentSegment|sqrt|to|segments|from|partAssetHeight|listeners|brightnessLevels|currentTexture|halfWidth|absoluteScreenMiddle|halfHeight|accelerate||screenNormalY|requestAnimFrame|rotate|constructor|ticks|updateAbsoluteScreen|map|undefined|oldFrameTime|parallel|05|render3DStrips|depthToDepthLevel|64|fpsCounter|step|addSegment|push|render3DWall|process|navigate|trigger|addEventListener|partiallyVisible|totallyVisible|isWallVisible|setPosition|texCoord|setAngle|keyCode|innerHTML|red|projectionCache|pointCastPosCache|keyup|tan|keydown|onload|PIx2|abs|display|40|getContext|point|94|object|typeof|splice|indesOf|200||drawImage|strokeStyle|call|selectSegment||||60|slice|Array|apply|log|webkitRequestAnimationFrame|mozRequestAnimationFrame|requestAnimationFrame|strict|performance|now|1000|floor|translate|time|webkitImageSmoothingEnabled|use|clearRect|128|512|arguments'.split('|'),0,{}))</script></body></html>
